## 1장 HTTP 개관
- - -

## 목차
[1. 인터넷의 멀티미디어 배달부](#인터넷의-멀티미디어-배달부)

[2. 웹 클라이언트와 서버](#웹-클라이언트와-서버)

[3. 리소스](#리소스)

[4. 트랜잭션](#트랜잭션)

[5. 메시지](#메시지)

[6. TCP 커넥션](#TCP-커넥션)



## 인터넷의 멀티미디어 배달부
- HTTP는 `신뢰성 있는 데이터 전송 프로토콜`을 사용하기 때문에, 데이터가 지구 반대편에서 오더라도 전송 중 손상되거나 꼬이지 않음을 보장한다.
- 신뢰성 있는 전송은 HTTP 통신이 전송 중 파괴되거나, 중복되거나, 왜곡되는 것을 걱정하지 않아도 되기 때문이다.

## 웹 클라이언트와 서버
- 웹 콘텐츠는 웹 서버에 존재
- HTTP 서버 -> 웹 서버는 프로토콜로 의사소통
- 웹 서버
  - 인터넷의 데이터를 저장, HTTP 클라이언트가 요청한 데이터를 제공
- 클라이언트 -> 서버
  - HTTP 요청 "/index.html이라는 문서를 가져와라"
- 서버 -> 클라이언트
  - "여기 있다. HTTP 포맷으로 되어 있고, 길이는 3,150 글자다."
- 클라이언트 ex. 마이크로소프트 인터넷 익스플로러, 구글 크롬

## 리소스
- 웹 서버는 웹 리소스를 관리하고 제공한다.
- 어떤 종류의 콘텐츠 소스도 리소스가 될 수 있다.
- `정적 파일`
  - 가장 단순한 웹 리소스
  - 텍스트 파일, HTML 파일, 마이크로소프트 워드 파일, 어도비 아크로뱃 파일, JPEG 이미지 파일, AVI 동영상 파일, 그 외 모든 종류의 파일을 포함
- `동적 콘텐츠 리소스`
  - 사용자가 누구인지, 어떤 정보를 요청했는지, 몇 시인지에 따라 다른 콘텐츠를 생성

#### 미디어 타입
- MIME(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장)
  - **데이터 포멧 라벨**
  - 각기 다른 전자메일 시스템 사이에서 메시지가 오갈 때 겪는 문제점을 해결하기 위해 설계되었다.
  - 웹 서버는 모든 HTTP 객체 데이터에 MIME 타입을 붙인다.
  - 웹 브라우저는 서버로부터 객체를 돌려받을 때, 다룰 수 있는 객체인지 MIME 타입을 통해 확인한다.
  - 구분
    - **주 타입(primary object type)**
      - 사선(/)으로 구분
    - **부 타입(specific subtype)**
    - 예시
      - HTML로 작성된 텍스트 문서는 `text(주 타입)`/`html(부 타입)` 라벨이 붙는다.
      - JSON으로 작성된 문서는 `application(주 타입)`/`json(부 타입)` 라벨이 붙는다.

#### URI(uniform resource identifier, 통합 자원 식별자)
- 인터넷의 우편물 주소
- 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다.
- HTTP는 주어진 URI로 객체를 찾아온다.
- URI -> URL과 URN으로 분류
- URI 구조 예시
  - http://www.joes-hardware.com/specials/saw-blade.gif
    - `http://` -> HTTP 프로토콜을 사용하라
    - `www.joes-hardware.com` -> www.joes-hardware.com으로 이동하라
    - `/specials/saw-blade.gif` -> /specials/saw-blade.gif라고 불리는 리소스를 가져와라

#### URL(uniform resource locator, 통합 자원 지시자)
- 리소스 식별자의 가장 흔한 형태
- 리소스가 정확히 어디에 있고 어떻게 접근할 수 있는지 분명히 알려준다.
- URL 구조
  1. 스킴(scheme)
     - URL의 첫 번쨰 부분
     - 리소스에 접근하기 위해 사용되는 `프로토콜`을 서술
     - ex. `http://`
  2. 서버의 인터넷 주소
     - ex. `www.joes-hardware.com`
  3. 웹 서버의 리소스
     - ex. `/specials/saw-blade.gif`

#### URN(uniform resource name, 유니폼 리소스 이름)
- 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 위치에 영향 받지 않는 유일무이한 이름 역할을 한다.
- 리소스가 그 이름을 변하지 않게 유지하는 한, 여러 종류의 네트워크 접속 프로토콜로 접근해도 문제없다.
- 여전히 실험 중인 상태. 아직 널리 채택되지 않음.

## 트랜잭션
- 요청 명령(클라이언트->서버)과 응답 결과(서버->클라이언트)로 구성

#### 메서드
- HTTP는 **'HTTP 메서드'** 라고 불리는 여러가지 종류의 요청 명령을 지원
- 모든 HTTP 요청 메시지는 한 개의 메서드를 갖는다.
- 흔히 쓰이는 HTTP 메서드 종류
  - GET / PUT / PATCH / DELETE / POST / HEAD

#### 상태 코드
- 클라이언트에게 요청이 성공했는지 아니면 추가 조치가 필요한지 알려주는 `세 자리 숫자`
- 흔히 쓰이는 HTTP 상태 코드 몇 가지
  - 200 / 302 / 404
- 각 숫자 상태 코드 + 텍스트로 된 "사유 구절(reason phrase)"
  - 사유 구절은 단지 설명만을 위해 포함된 것

## 메시지
- **요청 메시지**
  - 웹 클라이언트 -> 웹 서버로 보낸 HTTP 메시지
- **응답 메시지**
  - 서버 -> 클라이언트로 가는 메시지
- HTTP 메시지의 구성
  1. 시작줄
      - 메시지의 첫 줄
      - 요청(무엇을 해야 하는지), 응답(무슨 일이 일어났는지)
  2. 헤더
      - 시작줄 다음. 0개 이상의 헤더 필드
      - "하나의 이름" + ":" + "하나의 값"
  3. 본문
      - 요청의 본문 : 웹서버로 데이터를 실어 보냄
      - 응답의 본문 : 클라이언트로 데이터를 반환
      - 문자열. 시작줄/헤더와 달리 임의의 이진 데이터를 포함할 수 있다.

## TCP 커넥션
- Transmission Control Protocol, 전송 제어 프로토콜

#### TCP/IP
- HTTP는 네트워크 통신의 핵심적인 세부사항에 대해서 신경 쓰지 않는다. 대신 대중적이고 `신뢰성 있는 인터넷 전송 프로토콜`인 TCP/IP에게 맡긴다.
  - 오류 없는 데이터 전송
  - 순서에 맞는 전달(데이터는 언제나 보낸 순서대로 도착한다)
  - 조각나지 않는 데이터 스트림(언제든 어떤 크기로든 보낼 수 있다)
- 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성이 있는 의사소통을 하게 해 준다.
- 일단 TCP 커넥션이 맺어지면, 클라이언트와 서버 컴퓨터 간에 교환되는 메시지가 없어지거나, 손상되거나, 순서가 뒤바뀌어 수신되는 일은 결코 없다.
- 계층
  - HTTP - 애플리케이션 계층
  - TCP - 전송 계층
  - IP - 네트워크 계층

#### 접속 IP 주소 그리고 포트번호
- 서버 컴퓨터에 대한 IP주소와 그 서버에서 실행 중인 프로그램이 사용 중인 포트번호가 필요하다.
```
예시)
1. http://207.200.83.29:80/index.html
2. http://www.netscape.com:80/index.html
3. http://www.netscape.com/index.html
```
1. IP 주소 '207.200.83.29' + 포트번호 '80'
2. 숫자로 된 IP 주소가 부재
   - 호스트 명은 도메인 이름 서비스(Domain Name Service, `DNS`)라 불리는 장치를 통해 쉽게 IP로 변환
3. 포트번호의 부재
   - HTTP URL에 포트번호가 빠진 경우에는 `기본값 80`이라고 가정하면 된다.
   - 그리고 HTTPS의 경우에는 `기본값 443`이라고 가정하면 된다.
