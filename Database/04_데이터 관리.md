## 데이터 관리

#### 데이터 타입 지정
- 테이블의 각 컬럼에는 반드시 `데이터 타입`을 정해 둘 필요가 있다.
  - 문자열 타입
  - 정수 타입
  - 날짜 타입
- 데이터 타입을 지정함으로써 그 컬럼에 저장하는 값의 포맷을 준비할 수 있고 값을 어떻게 취급할 것인지 결정해 둘 수 있다.

#### 숫자를 취급하는 데이터 타입
- 종류 : 정수, 소수, 비트 값을 취급하는 타입 등
  - 정수 : TINYINT, SMALLINT, MEDIUMINT, INT, BIGINT
  - 소수 : DECIMAL, FLOAT, DOUBLE
- 컬럼에 숫자 타입을 설정해 두면 **실수로 숫자 이외의 문자열 등의 값이 저장되는 일은 발생되지 않는다.**

#### 문자열을 취급하는 데이터 타입
- 종류 : 데이터의 저장 방법이나 최대 길이에 따라 여러 종류가 있다.
  - CHAR, VARCHAR, TINYTEXT, TEXT, MEDIUMTEXT, LONGTEXT

#### 날짜와 시간을 취급하는 데이터 타입
- 저장할 수 있는 데이터의 포맷에 따라 몇 가지 종류가 있다.
  - DATE, DATETIME, TIME, YEAR
- 날짜나 시간 타입 컬럼에 값을 저장할 경우 **다양한 포맷으로 입력할 수 있다.**
  - 예) 2020년 1월 1일
    - 2020-01-01
    - 2020-1-1
    - 20200101
    - 2020/01/01

#### BOOLEAN
- 2종류의 값 만을 취급하는 데이터 타입
- 참(true)과 거짓(false) 두 가지 값만 저장할 수 있다.
  - 예) ON인지 OFF인지 2가지 상태를 표현할 수 있다.
  - 이용 중인 사용자인지 해지한 사용자인지, 상품이 지불되었는지 미지불 상태인지, 태스크가 완료되었는지 미완료 상태인지 등의 데이터를 저장하는 용도로 활용 가능.

#### 룰(Rule)에 일치하지 않는 데이터의 입력을 금지한다.
- 테이블의 컬럼에 `제약`을 걸어서 저장할 수 있는 데이터에 제한을 두거나 `속성`을 붙여 저장되는 값을 특정한 규칙으로 가다듬어 저장할 수 있다. 
  - **제약** : 저장 가능한 데이터에 제한을 건다.
  - **속성** : 값을 어떤 규칙으로 정돈한다.
- 적절한 제약을 속성을 걸어두면 데이터의 부정합을 막거나 데이터를 관리하기 쉽게 만들 수 있다.
- 대표적인 제약이나 속성의 예
  - `NULL`
    - **'아무것도 없다'**는 것을 나타내며 숫자도 문자열도 아니다.
    - 값이 미입력 상태라는 것을 명시적으로 나타내는 데 편리하다.
  - `NOT NULL`
    - 반드시 어떤 값이라도 들어가 있어야 한다.
    - NOT NULL 제약을 사용하면 컬럼에 NULL을 저장하지 못하도록 할 수 있다.
    - 예) CREATE TABLE users (name VARCHAR(100), age INT **NOT NULL**);
  - `UNIQUE`
    - 컬럼 값을 중복시키지 않는 제약. 다른 레코드의 값과 동일한 값은 저장할 수 없다.
    - 예) CREATE TABLE users (id INT **UNIQUE**, name VARCHAR(100));   // 동일한 값을 저장할 수 없게 설정
  - `DEFAULT`
    - 컬럼 값이 기본값을 설정하는 제약. 값을 지정하지 않으면 미리 지정한 기본(Default) 값이 저장된다.
    - 미리 저장해 두고 싶은 상태(Status)가 있는 경우에는 초깃값을 설정해 두면 편리하다.
    - 예) CREATE TABLE users (name VARCHAR(100), age INT **DEFAULT 10**);   // 디폴트 값을 10으로 설정
  - `AUTO_INCREMENT`
    - 컬럼에 자동으로 자동으로 연속된 번호를 저장할 수 있다.
    - 상품ID나 사용자ID와 같이 데이터를 식별하기 위한 번호로 취급할 수 있다.
    - 예) CREATE TABLE users (id INT UNIQUE **AUTO_INCREMENT**, name VARCHAR(100);   // 자동으로 연속된 번호가 저정되도록 설정

#### 행을 고유하게 식별할 수 있게 한다
- `PRIMARY KEY` / 주 키
  - 다른 레코드와 중복되는 값이나 NULL을 저장할 수 없게 된다.
  - 각 레코드를 식별하기 위한 컬럼으로 설정한다.
    - 예) 사용자의 이름이 같아도 사용자ID(PRIMARY KEY)를 보고 식별할 수 있다.
    - 에) CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100));   // 다른 레코드와 중복되는 값이나 NULL을 저장할 수 없게 설정

#### 다른 테이블과 연결
- `FOREIGN KEY` / 외부 키
  - 컬럼에 FOREIGN KEY를 설정하면 지정한 다른 테이블의 컬럼에 존재하는 값는 저장할 수 있다.
  - 다른 테이블의 컬럼과 연결시키고 싶은 컬럼으로 설정한다.
  - CREATE TABLE users (name VARCHAR(100), department_id INT, `FOREIGN KEY (A 테이블의 외부 키) REFERENCES B 테이블의 연결시키고 싶은 컬럼` 

#### 트랜잭션
- 데이터베이스를 대상으로 수행되는 여러가지 처리를 하나로 모은 것
- **처리가 도중에 중단됨으로써 발생하는 데이터의 부정합을 트랜잭션으로 방지할 수 있다.**
- 특징
  - 원자성(atomicity)
    - 트랜잭션에 포함되는 처리는 **'모두 실행된다'**이거나 **'모두 실행되지 않는다'** 중 하나가 된다.
  - 일관성(consistency)
    - 미리 설정된 조건을 충족하고 데이터의 정합성을 보증한다.
  - 독립성(independency)
    - 처리 도중 경과가 은폐되고 우부에서는 결과만 볼 수 있다.
    - 처리 실행 도중의 상태에서는 다른 처리에 영향을 주지 않는다.
  - 영속성(permanency)
    - 트랜잭션이 완료되면 그 결과가 손실되는 일은 없다.