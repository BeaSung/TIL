## 데이터베이스 최적화

## 에러의 종류와 대책
- SQL 문법 에러
- 자원(resource) 부족
- 데드락(dead lock)
- 접속 오류(access)
- 타임아웃(time out)

#### 에러 해결 방법
- 에러 메시지를 번역
- 인터넷에서 검색
- 책이나 공식 자료 조사
- 과거 대응방법 참고

## 슬로우 쿼리(slow query)
- 실행에 시간이 걸리는 SQL 문장
#### 슬로우 쿼리가 일으키는 문제
- 데이터 집계에 시간이 걸린다.
- 페이지 표시가 늦게 된다.
- 서버에 부하가 걸린다.
#### 슬로우 쿼리의 최적화
- **SQL 문장 수정**이나 **인덱스**를 사용하여 슬로우 쿼리를 개선한다.

## 인덱스
- 인덱스 = 책의 색인
- 인덱스를 사용하여 데이터의 취득 시간을 단축할 수 있다.
- 데이터베이스의 경우 검색 조건에 자주 이용하는 컬럼에 인덱스를 생성해 두면 데이터를 취득하는 성능을 높일 수 있다.
- 데이터의 양이 많은데 그 안에서 한정된 데이터를 추출하거나, 컬럼에 저장되어 있는 값의 종류가 많을수록 효과적으로 기능한다.
#### 인덱스의 단점
- 데이터를 편집할 때 인덱스에 대한 갱신 처리도 이루어지기 때문에 **처리 속도가 느려진다.**
- 데이터와는 별로도 인덱스 영역이 필요하기 때문에 **디스크 용량을 필요로 한다.**

## 부하를 분산시키다 
#### 스케일 업(scale up)
- 컴퓨터의 메모리나 디스크, CPU를 증설하거나 보다 고성능 제품으로 대체함으로써 **성능 향상을 도모하는 접근방법**
- 기계의 성능을 올리는 접근법

#### 스케일 아웃(scale out)
- 컴퓨터의 개수를 늘려 처리를 분산함으로써 처리 성능을 올리는 접근법
- 기계의 숫자를 늘리는 접근법

## 데이터베이스를 복제하여 운용한다
#### 리플리케이션(replication)
- 스케일 아웃을 실현하는 기능
- 원천 데이터베이스로부터 **동일한 내용의 데이터베이스를 복제**하여 데이터를 동기화할 수 있다.
- 복제의 원천 데이터베이스 내용이 갱신되었을 경우 그 내용을 복제한 데이터베이스에도 반영시킬 수 있다.
- 장점
  - 처리를 분산시켜 부하를 줄일 수 있다.
  - 가용성을 높인다. 어느 한쪽 데이터베이스에 장애가 발생한 경우에도 다른 쪽 정상적인 데이터베이스에 처리를 맡김으로써 시스템을 지속적으로 운용할 수 있다.