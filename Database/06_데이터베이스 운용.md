## 데이터베이스 운용

## 데이터베이스 운용 방법
- `온프레미스(on-premise)`
  - **자체 설비를 이용**하여 데이터베이스를 운용
  - 도입과 운용에 비용이 소요되지만 **안전하고 자유도**가 있다.
- `클라우드(cloud)`
  - **인터넷을 통해** 외부의 데이터베이스 시스템을 이용
  - **최소한의 수고와 비용**으로 도입과 운용을 실현할 수 있다.

#### 온프레미스의 주의점
- 자체적으로 데이터베이스 서버를 관리하는 온프레미스의 경우에는 아래와 같이 다양한 리스크(Risk)를 상정하여 대책을 세울 필요가 있다.
  - 정전에 대비한다. -> 비상시를 위해 전력공급 대책을 마련한다.
  - 외부로부터의 공격에 대비한다. -> 최신 프로그램이나 패치를 적용해 둔다.
  - 비용을 견적한다. -> 비용을 미리 정리해 둔다.

## 데이터베이스 운용에 드는 비용
- `이니셜 코스트(initial cost)`
  - 데이터베이스 도입할 때 드는 비용
  - 예) 설비 구입 비용, 상용 데이터베이스나 클라우드 서비스를 이용할 때 첫 지불 비용 등
- `러닝 코스트(running cost)`
  - 데이터베이스 도입 후 매월 드는 비용
  - 예) 온프레미스의 경우 전기세, 상용 데이터베이스나 클라우드 서비스라면 사업자에게 매월 지불하는 이용로나 유지보수에 드는 인건비 등.

## 사용자, 권한
- 사용자 별로 데이터베이스 조작 권한을 부여할 수 있다.
- 각 사용자가 필요한 조작 이외에는 실행할 수 없도록 함으로써 부주의한 사고를 막을 수 있다.

## 데이터베이스 감시
- 데이터베이스를 감시함으로써 트러블(trouble)의 발생을 빠르게 알 수 있으며, 신속하게 대응할 수 있다. 
#### 데이터베이스 감시 대상항목
- `데이터베이스 조작 이력`
  - 데이터베이스 관리자가 언제 어떤 조작을 했는지 기록해 둔다.
- `쿼리 로그(query log)`
  - 데이터베이스 수행된 SQL의 이력 로그를 남겨둠으로써 장애 대응 등에 이용할 수 있다.
- `서버 지원`
  - 데이터베이스가 위치한 서버에 문제가 발생할 수도 있다. CPU나 메모리, 네트워크 대역, 디스크의 빈 용량 등 자원에 이상이 없는지 체크해 둔다.

## 데이터 백업
- 데이터 파손에 대비해서 데이터 복제본을 생성해 두는 것 
#### 백업 방식 분류
- `풀 백업(Full Backup)`
  - 모든 데이터를 백업
- `차분 백업(Differential Backup)`
  - **최초의 풀 백업 후에 추가된** 데이터를 백업
- `증분 백업(Incremental Backup)`
  - **바로 전 백업 이후에 추가된** 데이터를 백업

## 데이터 이행
- `덤프(dump)` : 데이터베이스의 내용을 파일로 출력하는 것
- `리스토어(restore)` : 덤프 파일에서 데이터를 복원하는 것
- 동일한 데이터베이스를 생성하거나, 데이터를 이행하거나, 백업으로서 데이터를 취득해 두거나 할 수 있다.

## 암호화, 복호화
- `암호화` : 어떤 데이터를 다른 사람이 읽을 수 없는 정보로 변환하는 기술
- `복호화` : 암호화된 데이터를 원래대로 되돌리는 처리

#### 다양한 암호화 방식
- 애플리케이션에서 암호화
- 데이터베이스 기능에 의한 암호화
- 스토리지 기능을 통한 암호화

## 버전 업(version up)
- 새로운 버전으로 올려둠으로써 **보안 강화나 성능 향상**으로 연결된다.
- 버전 업 시에는 트러블에 대비하여 백업을 만들어두거나 정상적으로 동작하는지 확인한다.